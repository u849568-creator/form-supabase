<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
const supabaseUrl = "https://cmwpwpiougayrizofnru.supabase.co";
const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtd3B3cGlvdWdheXJpem9mbnJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3ODQxMTUsImV4cCI6MjA4MzM2MDExNX0.wik4VvmF8oAasCZ6YZMbcrzaRKKYPMrYkZgb4en4E2A";
const supabase = supabase.createClient(supabaseUrl, supabaseKey);

// INSERT
async function insertRow() {
  const { error } = await supabase
    .from("reseau_produit")
    .insert({
      produit_id: 123,
      reseau_id: 1,
      annee_id: 2026,
      VALUE: true
    });

  if (error) alert(error.message);
  else loadRows();
}

// SELECT
async function loadRows() {
  const { data, error } = await supabase
    .from("reseau_produit")
    .select("*")
    .order("created_at", { ascending: false });

  console.log(data);
}

// UPDATE
async function updateRow(id) {
  const { error } = await supabase
    .from("reseau_produit")
    .update({ VALUE: false })
    .eq("id", id);

  if (error) alert(error.message);
}
</script>
